"use strict";import{isAlternativeContainer as p}from"../../parser/node-utils.js";import{createAlternative as d,createGroup as a}from"../../parser/parse.js";import{isAllowedSimpleType as c,isNodeEqual as h}from"./extract-prefix.js";const u={"*"({node:t}){if(!p(t)||t.body.length<2)return;const l=t.body[0].body,e=[];let y=!1,r=0;for(;!y;){const o=l.length-1-r;e.push(l[o]);for(const f of t.body){const b=f.body.length-1-r,i=f.body[b];if(!i||!c(i.type)||!h(i,e[r])){y=!0;break}}r++}if(e.pop(),!e.length||e.length===1&&e[0].type!=="Assertion"&&t.body.length<4&&t.body.every(o=>o.body.length>2))return;e.reverse();for(const o of t.body)o.body=o.body.slice(0,-e.length);const s=d(),n=a({body:t.body});n.body.every(o=>!o.body.length)||s.body.push(n),s.body.push(...e),t.body=[s]}};export{u as extractSuffix};
//# sourceMappingURL=extract-suffix.js.map
