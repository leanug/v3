"use strict";var OnigurumaParser=(()=>{var te=Object.defineProperty;var rr=Object.getOwnPropertyDescriptor;var tr=Object.getOwnPropertyNames;var nr=Object.prototype.hasOwnProperty;var ar=(e,r)=>{for(var t in r)te(e,t,{get:r[t],enumerable:!0})},or=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of tr(r))!nr.call(e,i)&&i!==t&&te(e,i,{get:()=>r[i],enumerable:!(n=rr(r,i))||n.enumerable});return e};var ir=e=>or(te({},"__esModule",{value:!0}),e);var _t={};ar(_t,{OnigUnicodePropertyMap:()=>P,generate:()=>j,getOptionalOptimizations:()=>se,optimize:()=>er,parse:()=>E,toOnigurumaAst:()=>Ee,traverse:()=>q});var ue=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]);function y(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}var F=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]);function pe(e,r,t){return e.has(r)||e.set(r,t),e.get(r)}var u=String.raw;function b(e,r){if(e==null)throw new Error(r??"Value expected");return e}function j(e){let r=[],t=e,n={inCharClass:!1,lastNode:t,parent:e},i=o=>{n.lastNode=t,t=o,pr(n.lastNode)===o&&(n.parent=n.lastNode,r.push(n.parent));let s=b(sr[o.type],`Unexpected node type "${o.type}"`)(o,n,i);return cr(n.parent)===o&&(r.pop(),n.parent=r.at(-1)??e),s};return{pattern:e.body.map(i).join("|"),flags:i(e.flags)}}var sr={AbsenceFunction({body:e,kind:r},t,n){if(r!=="repeater")throw new Error(`Unexpected absence function kind "${r}"`);return`(?~${e.map(n).join("|")})`},Alternative({body:e},r,t){return e.map(t).join("")},Assertion({kind:e,negate:r}){return e==="grapheme_boundary"?r?u`\Y`:u`\y`:e==="word_boundary"?r?u`\B`:u`\b`:b({line_end:"$",line_start:"^",search_start:u`\G`,string_end:u`\z`,string_end_newline:u`\Z`,string_start:u`\A`}[e],`Unexpected assertion kind "${e}"`)},Backreference({ref:e}){return typeof e=="number"?"\\"+e:`\\k<${e}>`},CapturingGroup({body:e,name:r},t,n){return`(${r?`?${r.includes(">")?`'${r}'`:`<${r}>`}`:""}${e.map(n).join("|")})`},Character(e,{inCharClass:r,lastNode:t,parent:n}){let{value:i}=e,o=t.type==="Backreference";if(ce.has(i))return ce.get(i);if(i<32||i>126&&i<160||i>262143||o&&hr(i))return i>127?`\\x{${i.toString(16).toUpperCase()}}`:`\\x${i.toString(16).toUpperCase().padStart(2,"0")}`;let a=String.fromCodePoint(i),s=!1;if(r){let l=n.type==="CharacterClass",c=l&&n.body[0]===e,d=l&&n.body.at(-1)===e;a==="^"?s=c&&!n.negate:a==="]"?s=!c:a==="-"?s=!c&&!d:s=ur.has(a)}else s=lr.has(a);return`${s?"\\":""}${a}`},CharacterClass({body:e,kind:r,negate:t},n,i){function o(){return n.parent.type==="CharacterClass"&&n.parent.kind==="intersection"&&r==="union"&&!e.length?"":`[${t?"^":""}${e.map(i).join(r==="intersection"?"&&":"")}]`}if(!n.inCharClass){n.inCharClass=!0;let a=o();return n.inCharClass=!1,a}return o()},CharacterClassRange({min:e,max:r},t,n){return`${n(e)}-${n(r)}`},CharacterSet({kind:e,negate:r,value:t},{inCharClass:n}){switch(e){case"any":return u`\O`;case"digit":return r?u`\D`:u`\d`;case"dot":return".";case"grapheme":return u`\X`;case"hex":return r?u`\H`:u`\h`;case"newline":return r?u`\N`:u`\R`;case"posix":return n?`[:${r?"^":""}${t}:]`:`${r?u`\P`:u`\p`}{${t}}`;case"property":return`${r?u`\P`:u`\p`}{${t}}`;case"space":return r?u`\S`:u`\s`;case"word":return r?u`\W`:u`\w`;default:throw new Error(`Unexpected character set kind "${e}"`)}},Directive({kind:e,flags:r}){if(e==="flags"){let{enable:t={},disable:n={}}=r,i=U(t),o=U(n);return i||o?`(?${i}${o?`-${o}`:""})`:""}if(e==="keep")return u`\K`;throw new Error(`Unexpected directive kind "${e}"`)},Flags(e){return U(e)},Group({atomic:e,body:r,flags:t},n,i){let o=r.map(i).join("|");return`(?${dr(e,t)}${o})`},LookaroundAssertion({body:e,kind:r,negate:t},n,i){return`(?${`${r==="lookahead"?"":"<"}${t?"!":"="}`}${e.map(i).join("|")})`},NamedCallout({kind:e,tag:r,arguments:t}){if(e==="custom")throw new Error(`Unexpected named callout kind "${e}"`);return`(*${e.toUpperCase()}${r?`[${r}]`:""}${t?`{${t.join(",")}}`:""})`},Quantifier(e,{parent:r},t){let{body:n,kind:i,max:o,min:a}=e;if(a===1/0)throw new Error("Invalid quantifier: infinite min");if(a>o)throw new Error(`Invalid quantifier: min "${a}" > max "${o}"`);let s=n.type==="Quantifier"&&n.kind==="greedy",l=r.type==="Quantifier"&&r.kind==="possessive"&&r.min===1&&r.max===1/0,c=i==="greedy"&&l,d;de(e)&&!c&&(!a&&o===1&&!s?d="?":!a&&o===1/0?d="*":a===1&&o===1/0&&(!(s&&de(n))||i==="possessive")&&(d="+"));let f=!d;if(f)if(i==="possessive"){if(a===o)throw new Error(`Invalid possessive quantifier: min and max are equal "${a}"`);if(o===1/0)throw new Error(`Invalid possessive quantifier: min "${a}" with infinite max"`);d=`{${o},${a}}`}else a===o?d=`{${a}}`:d=`{${a},${o===1/0?"":o}}`;let p={greedy:"",lazy:"?",possessive:f?"":"+"}[i];return`${t(n)}${d}${p}`},Subroutine({ref:e}){return typeof e=="string"&&e.includes(">")?u`\g'${e}'`:u`\g<${e}>`}},lr=new Set(["$","(",")","*","+",".","?","[","\\","^","{","|"]),ur=new Set(["&","-","[","\\","]","^"]),ce=new Map([[7,u`\a`],[9,u`\t`],[10,u`\n`],[11,u`\v`],[12,u`\f`],[13,u`\r`],[27,u`\e`],[8232,u`\u2028`],[8233,u`\u2029`],[65279,u`\uFEFF`]]);function pr(e){return"body"in e?Array.isArray(e.body)?e.body[0]??null:e.body:"min"in e&&e.min.type?e.min:null}function cr(e){return"body"in e?Array.isArray(e.body)?e.body.at(-1)??null:e.body:"max"in e&&e.max.type?e.max:null}function U({ignoreCase:e,dotAll:r,extended:t,digitIsAscii:n,posixIsAscii:i,spaceIsAscii:o,wordIsAscii:a}){return`${e?"i":""}${r?"m":""}${t?"x":""}${n?"D":""}${i?"P":""}${o?"S":""}${a?"W":""}`}function dr(e,r){if(e)return">";let t="";if(r){let{enable:n={},disable:i={}}=r,o=U(n),a=U(i);t=`${o}${a?`-${a}`:""}`}return`${t}:`}function hr(e){return e>47&&e<58}function de({min:e,max:r}){return!e&&r===1||!e&&r===1/0||e===1&&r===1/0}var ge=u`\[\^?`,Ce=`c.? | C(?:-.?)?|${u`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${u`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${u`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${u`o\{[^\}]*\}?`}|${u`\d{1,3}`}`,ae=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,H=new RegExp(u`
  \\ (?:
    ${Ce}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${ae.source})+
  | ${ge}
  | .
`.replace(/\s+/g,""),"gsu"),ne=new RegExp(u`
  \\ (?:
    ${Ce}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${ge}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function be(e,r={}){let t={flags:"",...r,rules:{captureGroup:!1,singleline:!1,...r.rules}};if(typeof e!="string")throw new Error("String expected as pattern");let n=Pr(t.flags),i=[n.extended],o={captureGroup:t.rules.captureGroup,getCurrentModX(){return i.at(-1)},numOpenGroups:0,popModX(){i.pop()},pushModX(p){i.push(p)},replaceCurrentModX(p){i[i.length-1]=p},singleline:t.rules.singleline},a=[],s;for(H.lastIndex=0;s=H.exec(e);){let p=_r(o,e,s[0],H.lastIndex);p.tokens?a.push(...p.tokens):p.token&&a.push(p.token),p.lastIndex!==void 0&&(H.lastIndex=p.lastIndex)}let l=[],c=0;a.filter(p=>p.type==="GroupOpen").forEach(p=>{p.kind==="capturing"?p.number=++c:p.raw==="("&&l.push(p)}),c||l.forEach((p,_)=>{p.kind="capturing",p.number=_+1});let d=c||l.length;return{tokens:a.map(p=>p.type==="EscapedNumber"?Mr(p,d):p).flat(),flags:n}}function _r(e,r,t,n){let[i,o]=t;if(t==="["||t==="[^"){let a=fr(r,t,n);return{tokens:a.tokens,lastIndex:a.lastIndex}}if(i==="\\"){if("AbBGyYzZ".includes(o))return{token:he(t,t)};if(/^\\g[<']/.test(t)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(t))throw new Error(`Invalid group name "${t}"`);return{token:Ar(t)}}if(/^\\k[<']/.test(t)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(t))throw new Error(`Invalid group name "${t}"`);return{token:ke(t)}}if(o==="K")return{token:Ie("keep",t)};if(o==="N"||o==="R")return{token:v("newline",t,{negate:o==="N"})};if(o==="O")return{token:v("any",t)};if(o==="X")return{token:v("grapheme",t)};let a=Ne(t,{inCharClass:!1});return Array.isArray(a)?{tokens:a}:{token:a}}if(i==="("){if(o==="*")return{token:wr(t)};if(t==="(?{")throw new Error(`Unsupported callout "${t}"`);if(t.startsWith("(?#")){if(r[n]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(t))return{token:vr(t,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,t==="("&&!e.captureGroup||t==="(?:")return{token:w("group",t)};if(t==="(?>")return{token:w("atomic",t)};if(t==="(?="||t==="(?!"||t==="(?<="||t==="(?<!")return{token:w(t[2]==="<"?"lookbehind":"lookahead",t,{negate:t.endsWith("!")})};if(t==="("&&e.captureGroup||t.startsWith("(?<")&&t.endsWith(">")||t.startsWith("(?'")&&t.endsWith("'"))return{token:w("capturing",t,{...t!=="("&&{name:t.slice(3,-1)}})};if(t.startsWith("(?~")){if(t==="(?~|")throw new Error(`Unsupported absence function kind "${t}"`);return{token:w("absence_repeater",t)}}throw t==="(?("?new Error(`Unsupported conditional "${t}"`):new Error(`Invalid or unsupported group option "${t}"`)}if(t===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:kr(t)}}if(e.getCurrentModX()){if(t==="#"){let a=r.indexOf(`
`,n);return{lastIndex:a===-1?r.length:a}}if(/^\s$/.test(t)){let a=/\s+/y;return a.lastIndex=n,{lastIndex:a.exec(r)?a.lastIndex:n}}}if(t===".")return{token:v("dot",t)};if(t==="^"||t==="$"){let a=e.singleline?{"^":u`\A`,$:u`\Z`}[t]:t;return{token:he(a,t)}}return t==="|"?{token:mr(t)}:ae.test(t)?{tokens:Gr(t)}:{token:S(y(t),t)}}function fr(e,r,t){let n=[_e(r[1]==="^",r)],i=1,o;for(ne.lastIndex=t;o=ne.exec(e);){let a=o[0];if(a[0]==="["&&a[1]!==":")i++,n.push(_e(a[1]==="^",a));else if(a==="]"){if(n.at(-1).type==="CharacterClassOpen")n.push(S(93,a));else if(i--,n.push(gr(a)),!i)break}else{let s=yr(a);Array.isArray(s)?n.push(...s):n.push(s)}}return{tokens:n,lastIndex:ne.lastIndex||e.length}}function yr(e){if(e[0]==="\\")return Ne(e,{inCharClass:!0});if(e[0]==="["){let r=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!r||!F.has(r.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return v("posix",e,{value:r.groups.name,negate:!!r.groups.negate})}return e==="-"?Cr(e):e==="&&"?br(e):S(y(e),e)}function Ne(e,{inCharClass:r}){let t=e[1];if(t==="c"||t==="C")return xr(e);if("dDhHsSwW".includes(t))return Tr(e);if(e.startsWith(u`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return Er(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{let n=e.split(/\\x/).slice(1).map(s=>parseInt(s,16)),i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(n)),o=new TextEncoder;return[...i].map(s=>{let l=[...o.encode(s)].map(c=>`\\x${c.toString(16)}`).join("");return S(y(s),l)})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(t==="u"||t==="x")return S(Or(e),e);if(fe.has(t))return S(fe.get(t),e);if(/\d/.test(t))return Nr(r,e);if(e==="\\")throw new Error(u`Incomplete escape "\"`);if(t==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return S(e.codePointAt(1),e);throw new Error(`Unexpected escape "${e}"`)}function mr(e){return{type:"Alternator",raw:e}}function he(e,r){return{type:"Assertion",kind:e,raw:r}}function ke(e){return{type:"Backreference",raw:e}}function S(e,r){return{type:"Character",value:e,raw:r}}function gr(e){return{type:"CharacterClassClose",raw:e}}function Cr(e){return{type:"CharacterClassHyphen",raw:e}}function br(e){return{type:"CharacterClassIntersector",raw:e}}function _e(e,r){return{type:"CharacterClassOpen",negate:e,raw:r}}function v(e,r,t={}){return{type:"CharacterSet",kind:e,...t,raw:r}}function Ie(e,r,t={}){return e==="keep"?{type:"Directive",kind:e,raw:r}:{type:"Directive",kind:e,flags:b(t.flags),raw:r}}function Nr(e,r){return{type:"EscapedNumber",inCharClass:e,raw:r}}function kr(e){return{type:"GroupClose",raw:e}}function w(e,r,t={}){return{type:"GroupOpen",kind:e,...t,raw:r}}function Ir(e,r,t,n){return{type:"NamedCallout",kind:e,tag:r,arguments:t,raw:n}}function Sr(e,r,t,n){return{type:"Quantifier",kind:e,min:r,max:t,raw:n}}function Ar(e){return{type:"Subroutine",raw:e}}var fe=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function xr(e){let r=e[1]==="c"?e[2]:e[3];if(!r||!/[A-Za-z]/.test(r))throw new Error(`Unsupported control character "${e}"`);return S(y(r.toUpperCase())-64,e)}function vr(e,r){let{on:t,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??="";let i=(r.getCurrentModX()||t.includes("x"))&&!n.includes("x"),o=me(t),a=me(n),s={};if(o&&(s.enable=o),a&&(s.disable=a),e.endsWith(")"))return r.replaceCurrentModX(i),Ie("flags",e,{flags:s});if(e.endsWith(":"))return r.pushModX(i),r.numOpenGroups++,w("group",e,{...(o||a)&&{flags:s}});throw new Error(`Unexpected flag modifier "${e}"`)}function wr(e){let r=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!r)throw new Error(`Incomplete or invalid named callout "${e}"`);let{name:t,tag:n,args:i}=r.groups;if(!t)throw new Error(`Invalid named callout "${e}"`);if(n==="")throw new Error(`Named callout tag with empty value not allowed "${e}"`);let o=i?i.split(",").filter(d=>d!=="").map(d=>/^[+-]?\d+$/.test(d)?+d:d):[],[a,s,l]=o,c=ue.has(t)?t.toLowerCase():"custom";switch(c){case"fail":case"mismatch":case"skip":if(o.length>0)throw new Error(`Named callout arguments not allowed "${o}"`);break;case"error":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if(typeof a=="string")throw new Error(`Named callout argument must be a number "${a}"`);break;case"max":if(!o.length||o.length>2)throw new Error(`Named callout must have one or two arguments "${o}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(o.length===2&&(typeof s=="number"||!/^[<>X]$/.test(s)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${s}"`);break;case"count":case"total_count":if(o.length>1)throw new Error(`Named callout allows only one argument "${o}"`);if(o.length===1&&(typeof a=="number"||!/^[<>X]$/.test(a)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${a}"`);break;case"cmp":if(o.length!==3)throw new Error(`Named callout must have three arguments "${o}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(typeof s=="number"||!/^(?:[<>!=]=|[<>])$/.test(s))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${s}"`);if(typeof l=="string"&&!/^[A-Za-z_]\w*$/.test(l))throw new Error(`Named callout argument three must be a tag or number "${l}"`);break;case"custom":throw new Error(`Undefined callout name "${t}"`);default:throw new Error(`Unexpected named callout kind "${c}"`)}return Ir(c,n??null,i?.split(",")??null,e)}function ye(e){let r=null,t,n;if(e[0]==="{"){let{minStr:i,maxStr:o}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups,a=1e5;if(+i>a||o&&+o>a)throw new Error("Quantifier value unsupported in Oniguruma");if(t=+i,n=o===void 0?+i:o===""?1/0:+o,t>n&&(r="possessive",[t,n]=[n,t]),e.endsWith("?")){if(r==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');r="lazy"}else r||(r="greedy")}else t=e[0]==="+"?1:0,n=e[0]==="?"?1:1/0,r=e[1]==="+"?"possessive":e[1]==="?"?"lazy":"greedy";return Sr(r,t,n,e)}function Tr(e){let r=e[1].toLowerCase();return v({d:"digit",h:"hex",s:"space",w:"word"}[r],e,{negate:e[1]!==r})}function Er(e){let{p:r,neg:t,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return v("property",e,{value:n,negate:r==="P"&&!t||r==="p"&&!!t})}function me(e){let r={};return e.includes("i")&&(r.ignoreCase=!0),e.includes("m")&&(r.dotAll=!0),e.includes("x")&&(r.extended=!0),Object.keys(r).length?r:null}function Pr(e){if(!/^[imxDPSW]*$/.test(e))throw new Error(`Flags "${e}" includes unsupported value`);let r={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1};for(let t of e)r[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[t]]=!0;return r}function Or(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw new Error(`Incomplete or invalid escape "${e}"`);let r=e[2]==="{"?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2);return parseInt(r,16)}function Mr(e,r){let{raw:t,inCharClass:n}=e,i=t.slice(1);if(!n&&(i!=="0"&&i.length===1||i[0]!=="0"&&+i<=r))return[ke(t)];let o=[],a=i.match(/^[0-7]+|\d/g);for(let s=0;s<a.length;s++){let l=a[s],c;if(s===0&&l!=="8"&&l!=="9"){if(c=parseInt(l,8),c>127)throw new Error(u`Octal encoded byte above 177 unsupported "${t}"`)}else c=y(l);o.push(S(c,(s===0?"\\":"")+l))}return o}function Gr(e){let r=[],t=new RegExp(ae,"gy"),n;for(;n=t.exec(e);){let i=n[0];if(i[0]==="{"){let o=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(i);if(o){let{min:a,max:s}=o.groups;if(+a>+s&&i.endsWith("?")){t.lastIndex--,r.push(ye(i.slice(0,-1)));continue}}}r.push(ye(i))}return r}function T(e,r){if(!Array.isArray(e.body))throw new Error("Expected node with body array");if(e.body.length!==1)return!1;let t=e.body[0];return!r||Object.keys(r).every(n=>r[n]===t[n])}function k(e){return!(!Lr.has(e.type)||e.type==="AbsenceFunction"&&e.kind!=="repeater")}var Lr=new Set(["AbsenceFunction","CapturingGroup","Group","LookaroundAssertion","Regex"]);function z(e){return Fr.has(e.type)}var Fr=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function E(e,r={}){let t={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...r,rules:{captureGroup:!1,singleline:!1,...r.rules}},n=be(e,{flags:t.flags,rules:{captureGroup:t.rules.captureGroup,singleline:t.rules.singleline}}),i=(p,_)=>{let h=n.tokens[o.nextIndex];switch(o.parent=p,o.nextIndex++,h.type){case"Alternator":return C();case"Assertion":return Ur(h);case"Backreference":return $r(h,o);case"Character":return Q(h.value,{useLastValid:!!_.isCheckingRangeEnd});case"CharacterClassHyphen":return Dr(h,o,_);case"CharacterClassOpen":return Kr(h,o,_);case"CharacterSet":return Rr(h,o);case"Directive":return Wr(h.kind,{flags:h.flags});case"GroupOpen":return Br(h,o,_);case"NamedCallout":return Jr(h.kind,h.tag,h.arguments);case"Quantifier":return Vr(h,o);case"Subroutine":return jr(h,o);default:throw new Error(`Unexpected token type "${h.type}"`)}},o={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:t.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:t.skipBackrefValidation,skipLookbehindValidation:t.skipLookbehindValidation,skipPropertyNameValidation:t.skipPropertyNameValidation,subroutines:[],tokens:n.tokens,unicodePropertyMap:t.unicodePropertyMap,walk:i},a=Yr(Xr(n.flags)),s=a.body[0];for(;o.nextIndex<n.tokens.length;){let p=i(s,{});p.type==="Alternative"?(a.body.push(p),s=p):s.body.push(p)}let{capturingGroups:l,hasNumberedRef:c,namedGroupsByName:d,subroutines:f}=o;if(c&&d.size&&!t.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:p}of f)if(typeof p=="number"){if(p>l.length)throw new Error("Subroutine uses a group number that's not defined");p&&(l[p-1].isSubroutined=!0)}else if(d.has(p)){if(d.get(p).length>1)throw new Error(u`Subroutine uses a duplicate group name "\g<${p}>"`);d.get(p)[0].isSubroutined=!0}else throw new Error(u`Subroutine uses a group name that's not defined "\g<${p}>"`);return a}function Ur({kind:e}){return zr(b({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"grapheme_boundary","\\Y":"grapheme_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===u`\B`||e===u`\Y`})}function $r({raw:e},r){let t=/^\\k[<']/.test(e),n=t?e.slice(3,-1):e.slice(1),i=(o,a=!1)=>{let s=r.capturingGroups.length,l=!1;if(o>s)if(r.skipBackrefValidation)l=!0;else throw new Error(`Not enough capturing groups defined to the left "${e}"`);return r.hasNumberedRef=!0,Se(a?s+1-o:o,{orphan:l})};if(t){let o=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(o)return i(+o.groups.num,!!o.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${e}"`);if(!r.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${e}"`);return Se(n)}return i(+n)}function Dr(e,r,t){let{tokens:n,walk:i}=r,o=r.parent,a=o.body.at(-1),s=n[r.nextIndex];if(!t.isCheckingRangeEnd&&a&&a.type!=="CharacterClass"&&a.type!=="CharacterClassRange"&&s&&s.type!=="CharacterClassOpen"&&s.type!=="CharacterClassClose"&&s.type!=="CharacterClassIntersector"){let l=i(o,{...t,isCheckingRangeEnd:!0});if(a.type==="Character"&&l.type==="Character")return o.body.pop(),W(a,l);throw new Error("Invalid character class range")}return Q(y("-"))}function Kr({negate:e},r,t){let{tokens:n,walk:i}=r,o=n[r.nextIndex],a=[$()],s=ve(o);for(;s.type!=="CharacterClassClose";){if(s.type==="CharacterClassIntersector")a.push($()),r.nextIndex++;else{let c=a.at(-1);c.body.push(i(c,t))}s=ve(n[r.nextIndex],o)}let l=$({negate:e});return a.length===1?l.body=a[0].body:(l.kind="intersection",l.body=a.map(c=>c.body.length===1?c.body[0]:c)),r.nextIndex++,l}function Rr({kind:e,negate:r,value:t},n){let{normalizeUnknownPropertyNames:i,skipPropertyNameValidation:o,unicodePropertyMap:a}=n;if(e==="property"){let s=J(t);if(F.has(s)&&!a?.has(s))e="posix",t=s;else return X(t,{negate:r,normalizeUnknownPropertyNames:i,skipPropertyNameValidation:o,unicodePropertyMap:a})}return e==="posix"?Zr(t,{negate:r}):I(e,{negate:r})}function Br(e,r,t){let{tokens:n,capturingGroups:i,namedGroupsByName:o,skipLookbehindValidation:a,walk:s}=r,l=rt(e),c=l.type==="AbsenceFunction",d=xe(l),f=d&&l.negate;if(l.type==="CapturingGroup"&&(i.push(l),l.name&&pe(o,l.name,[]).push(l)),c&&t.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let p=we(n[r.nextIndex]);for(;p.type!=="GroupClose";){if(p.type==="Alternator")l.body.push(C()),r.nextIndex++;else{let _=l.body.at(-1),h=s(_,{...t,isInAbsenceFunction:t.isInAbsenceFunction||c,isInLookbehind:t.isInLookbehind||d,isInNegLookbehind:t.isInNegLookbehind||f});if(_.body.push(h),(d||t.isInLookbehind)&&!a){let g="Lookbehind includes a pattern not allowed by Oniguruma";if(f||t.isInNegLookbehind){if(Ae(h)||h.type==="CapturingGroup")throw new Error(g)}else if(Ae(h)||xe(h)&&h.negate)throw new Error(g)}}p=we(n[r.nextIndex])}return r.nextIndex++,l}function Vr({kind:e,min:r,max:t},n){let i=n.parent,o=i.body.at(-1);if(!o||!z(o))throw new Error("Quantifier requires a repeatable token");let a=qr(e,r,t,o);return i.body.pop(),a}function jr({raw:e},r){let{capturingGroups:t,subroutines:n}=r,i=e.slice(3,-1),o=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(i);if(o){let s=+o.groups.num,l=t.length;if(r.hasNumberedRef=!0,i={"":s,"+":l+s,"-":l+1-s}[o.groups.sign],i<1)throw new Error("Invalid subroutine number")}else i==="0"&&(i=0);let a=et(i);return n.push(a),a}function Hr(e,r){if(e!=="repeater")throw new Error(`Unexpected absence function kind "${e}"`);return{type:"AbsenceFunction",kind:e,body:D(r?.body)}}function C(e){return{type:"Alternative",body:Te(e?.body)}}function zr(e,r){let t={type:"Assertion",kind:e};return(e==="word_boundary"||e==="grapheme_boundary")&&(t.negate=!!r?.negate),t}function Se(e,r){let t=!!r?.orphan;return{type:"Backreference",ref:e,...t&&{orphan:t}}}function Qr(e,r){let t={name:void 0,isSubroutined:!1,...r};if(t.name!==void 0&&!tt(t.name))throw new Error(`Group name "${t.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...t.name&&{name:t.name},...t.isSubroutined&&{isSubroutined:t.isSubroutined},body:D(r?.body)}}function Q(e,r){let t={useLastValid:!1,...r};if(e>1114111){let n=e.toString(16);if(t.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${n}}"`):new Error(`Invalid code point out of range in JS "\\x{${n}}"`)}return{type:"Character",value:e}}function $(e){let r={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:r.kind,negate:r.negate,body:Te(e?.body)}}function W(e,r){if(r.value<e.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:r}}function I(e,r){let t=!!r?.negate,n={type:"CharacterSet",kind:e};return(e==="digit"||e==="hex"||e==="newline"||e==="space"||e==="word")&&(n.negate=t),(e==="grapheme"||e==="newline"&&!t)&&(n.variableLength=!0),n}function Wr(e,r={}){if(e==="keep")return{type:"Directive",kind:e};if(e==="flags")return{type:"Directive",kind:e,flags:b(r.flags)};throw new Error(`Unexpected directive kind "${e}"`)}function Xr(e){return{type:"Flags",...e}}function A(e){let r=e?.atomic,t=e?.flags;if(r&&t)throw new Error("Atomic group cannot have flags");return{type:"Group",...r&&{atomic:r},...t&&{flags:t},body:D(e?.body)}}function oe(e){let r={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:r.behind?"lookbehind":"lookahead",negate:r.negate,body:D(e?.body)}}function Jr(e,r,t){return{type:"NamedCallout",kind:e,tag:r,arguments:t}}function Zr(e,r){let t=!!r?.negate;if(!F.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:t}}function qr(e,r,t,n){if(r>t)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:r,max:t,body:n}}function Yr(e,r){return{type:"Regex",body:D(r?.body),flags:e}}function et(e){return{type:"Subroutine",ref:e}}function X(e,r){let t={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...r},n=t.unicodePropertyMap?.get(J(e));if(!n){if(t.normalizeUnknownPropertyNames)n=nt(e);else if(t.unicodePropertyMap&&!t.skipPropertyNameValidation)throw new Error(u`Invalid Unicode property "\p{${e}}"`)}return{type:"CharacterSet",kind:"property",value:n??e,negate:t.negate}}function rt({flags:e,kind:r,name:t,negate:n,number:i}){switch(r){case"absence_repeater":return Hr("repeater");case"atomic":return A({atomic:!0});case"capturing":return Qr(i,{name:t});case"group":return A({flags:e});case"lookahead":case"lookbehind":return oe({behind:r==="lookbehind",negate:n});default:throw new Error(`Unexpected group kind "${r}"`)}}function D(e){if(e===void 0)e=[C()];else if(!Array.isArray(e)||!e.length||!e.every(r=>r.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return e}function Te(e){if(e===void 0)e=[];else if(!Array.isArray(e)||!e.every(r=>!!r.type))throw new Error("Invalid body; expected array of nodes");return e}function Ae(e){return e.type==="LookaroundAssertion"&&e.kind==="lookahead"}function xe(e){return e.type==="LookaroundAssertion"&&e.kind==="lookbehind"}function tt(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function nt(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}function J(e){return e.replace(/[- _]+/g,"").toLowerCase()}function ve(e,r){return b(e,`${r?.type==="Character"&&r.value===93?"Empty":"Unclosed"} character class`)}function we(e){return b(e,"Unclosed group")}var P=new Map(`ASCII_Hex_Digit
Adlam
Ahom
Alphabetic
Anatolian_Hieroglyphs
Any
Arabic
Armenian
Assigned
Avestan
Balinese
Bamum
Bassa_Vah
Batak
Bengali
Bhaiksuki
Bidi_Control
Bopomofo
Brahmi
Braille
Buginese
Buhid
C
Canadian_Aboriginal
Carian
Case_Ignorable
Cased
Caucasian_Albanian
Cc
Cf
Chakma
Cham
Changes_When_Casefolded
Changes_When_Casemapped
Changes_When_Lowercased
Changes_When_Titlecased
Changes_When_Uppercased
Cherokee
Chorasmian
Cn
Co
Common
Coptic
Cs
Cuneiform
Cypriot
Cypro_Minoan
Cyrillic
Dash
Default_Ignorable_Code_Point
Deprecated
Deseret
Devanagari
Diacritic
Dives_Akuru
Dogra
Duployan
Egyptian_Hieroglyphs
Elbasan
Elymaic
Emoji
Emoji_Component
Emoji_Modifier
Emoji_Modifier_Base
Emoji_Presentation
Ethiopic
Extended_Pictographic
Extender
Garay
Georgian
Glagolitic
Gothic
Grantha
Grapheme_Base
Grapheme_Extend
Grapheme_Link
Greek
Gujarati
Gunjala_Gondi
Gurmukhi
Gurung_Khema
Han
Hangul
Hanifi_Rohingya
Hanunoo
Hatran
Hebrew
Hex_Digit
Hiragana
Hyphen
IDS_Binary_Operator
IDS_Trinary_Operator
IDS_Unary_Operator
ID_Compat_Math_Continue
ID_Compat_Math_Start
ID_Continue
ID_Start
Ideographic
Imperial_Aramaic
InCB
Inherited
Inscriptional_Pahlavi
Inscriptional_Parthian
Javanese
Join_Control
Kaithi
Kannada
Katakana
Kawi
Kayah_Li
Kharoshthi
Khitan_Small_Script
Khmer
Khojki
Khudawadi
Kirat_Rai
L
LC
Lao
Latin
Lepcha
Limbu
Linear_A
Linear_B
Lisu
Ll
Lm
Lo
Logical_Order_Exception
Lowercase
Lt
Lu
Lycian
Lydian
M
Mahajani
Makasar
Malayalam
Mandaic
Manichaean
Marchen
Masaram_Gondi
Math
Mc
Me
Medefaidrin
Meetei_Mayek
Mende_Kikakui
Meroitic_Cursive
Meroitic_Hieroglyphs
Miao
Mn
Modi
Modifier_Combining_Mark
Mongolian
Mro
Multani
Myanmar
N
Nabataean
Nag_Mundari
Nandinagari
Nd
New_Tai_Lue
Newa
Nko
Nl
No
Noncharacter_Code_Point
Nushu
Nyiakeng_Puachue_Hmong
Ogham
Ol_Chiki
Ol_Onal
Old_Hungarian
Old_Italic
Old_North_Arabian
Old_Permic
Old_Persian
Old_Sogdian
Old_South_Arabian
Old_Turkic
Old_Uyghur
Oriya
Osage
Osmanya
Other_Alphabetic
Other_Default_Ignorable_Code_Point
Other_Grapheme_Extend
Other_ID_Continue
Other_ID_Start
Other_Lowercase
Other_Math
Other_Uppercase
P
Pahawh_Hmong
Palmyrene
Pattern_Syntax
Pattern_White_Space
Pau_Cin_Hau
Pc
Pd
Pe
Pf
Phags_Pa
Phoenician
Pi
Po
Prepended_Concatenation_Mark
Ps
Psalter_Pahlavi
Quotation_Mark
Radical
Regional_Indicator
Rejang
Runic
S
Samaritan
Saurashtra
Sc
Sentence_Terminal
Sharada
Shavian
Siddham
SignWriting
Sinhala
Sk
Sm
So
Soft_Dotted
Sogdian
Sora_Sompeng
Soyombo
Sundanese
Sunuwar
Syloti_Nagri
Syriac
Tagalog
Tagbanwa
Tai_Le
Tai_Tham
Tai_Viet
Takri
Tamil
Tangsa
Tangut
Telugu
Terminal_Punctuation
Thaana
Thai
Tibetan
Tifinagh
Tirhuta
Todhri
Toto
Tulu_Tigalari
Ugaritic
Unified_Ideograph
Unknown
Uppercase
Vai
Variation_Selector
Vithkuqi
Wancho
Warang_Citi
White_Space
XID_Continue
XID_Start
Yezidi
Yi
Z
Zanabazar_Square
Zl
Zp
Zs
Adlm
Aghb
AHex
Arab
Armi
Armn
Avst
Bali
Bamu
Bass
Batk
Beng
Bhks
Bidi_C
Bopo
Brah
Brai
Bugi
Buhd
Cakm
Cans
Cari
Cased_Letter
Cher
Chrs
CI
Close_Punctuation
Combining_Mark
Connector_Punctuation
Control
Copt
Cpmn
Cprt
Currency_Symbol
CWCF
CWCM
CWL
CWT
CWU
Cyrl
Dash_Punctuation
Decimal_Number
Dep
Deva
DI
Dia
Diak
Dogr
Dsrt
Dupl
EBase
EComp
Egyp
Elba
Elym
EMod
Enclosing_Mark
EPres
Ethi
Ext
ExtPict
Final_Punctuation
Format
Gara
Geor
Glag
Gong
Gonm
Goth
Gran
Gr_Base
Grek
Gr_Ext
Gr_Link
Gujr
Gukh
Guru
Hang
Hani
Hano
Hatr
Hebr
Hex
Hira
Hluw
Hmng
Hmnp
Hung
IDC
Ideo
IDS
IDSB
IDST
IDSU
Initial_Punctuation
Ital
Java
Join_C
Kali
Kana
Khar
Khmr
Khoj
Kits
Knda
Krai
Kthi
Lana
Laoo
Latn
Lepc
Letter
Letter_Number
Limb
Lina
Linb
Line_Separator
LOE
Lowercase_Letter
Lyci
Lydi
Mahj
Maka
Mand
Mani
Marc
Mark
Math_Symbol
MCM
Medf
Mend
Merc
Mero
Mlym
Modifier_Letter
Modifier_Symbol
Mong
Mroo
Mtei
Mult
Mymr
Nagm
Nand
Narb
Nbat
NChar
Nkoo
Nonspacing_Mark
Nshu
Number
OAlpha
ODI
Ogam
OGr_Ext
OIDC
OIDS
Olck
OLower
OMath
Onao
Open_Punctuation
Orkh
Orya
Osge
Osma
Other
Other_Letter
Other_Number
Other_Punctuation
Other_Symbol
Ougr
OUpper
Palm
Paragraph_Separator
Pat_Syn
Pat_WS
Pauc
PCM
Perm
Phag
Phli
Phlp
Phnx
Plrd
Private_Use
Prti
punct
Punctuation
Qaac
Qaai
QMark
RI
Rjng
Rohg
Runr
Samr
Sarb
Saur
SD
Separator
Sgnw
Shaw
Shrd
Sidd
Sind
Sinh
Sogd
Sogo
Sora
Soyo
Space_Separator
Spacing_Mark
STerm
Sund
Sunu
Surrogate
Sylo
Symbol
Syrc
Tagb
Takr
Tale
Talu
Taml
Tang
Tavt
Telu
Term
Tfng
Tglg
Thaa
Tibt
Tirh
Titlecase_Letter
Tnsa
Todr
Tutg
Ugar
UIdeo
Unassigned
Uppercase_Letter
Vaii
Vith
VS
Wara
Wcho
WSpace
XIDC
XIDS
Xpeo
Xsux
Yezi
Yiii
Zanb
Zinh
Zyyy
Zzzz
In_Basic_Latin
In_Latin_1_Supplement
In_Latin_Extended_A
In_Latin_Extended_B
In_IPA_Extensions
In_Spacing_Modifier_Letters
In_Combining_Diacritical_Marks
In_Greek_and_Coptic
In_Cyrillic
In_Cyrillic_Supplement
In_Armenian
In_Hebrew
In_Arabic
In_Syriac
In_Arabic_Supplement
In_Thaana
In_NKo
In_Samaritan
In_Mandaic
In_Syriac_Supplement
In_Arabic_Extended_B
In_Arabic_Extended_A
In_Devanagari
In_Bengali
In_Gurmukhi
In_Gujarati
In_Oriya
In_Tamil
In_Telugu
In_Kannada
In_Malayalam
In_Sinhala
In_Thai
In_Lao
In_Tibetan
In_Myanmar
In_Georgian
In_Hangul_Jamo
In_Ethiopic
In_Ethiopic_Supplement
In_Cherokee
In_Unified_Canadian_Aboriginal_Syllabics
In_Ogham
In_Runic
In_Tagalog
In_Hanunoo
In_Buhid
In_Tagbanwa
In_Khmer
In_Mongolian
In_Unified_Canadian_Aboriginal_Syllabics_Extended
In_Limbu
In_Tai_Le
In_New_Tai_Lue
In_Khmer_Symbols
In_Buginese
In_Tai_Tham
In_Combining_Diacritical_Marks_Extended
In_Balinese
In_Sundanese
In_Batak
In_Lepcha
In_Ol_Chiki
In_Cyrillic_Extended_C
In_Georgian_Extended
In_Sundanese_Supplement
In_Vedic_Extensions
In_Phonetic_Extensions
In_Phonetic_Extensions_Supplement
In_Combining_Diacritical_Marks_Supplement
In_Latin_Extended_Additional
In_Greek_Extended
In_General_Punctuation
In_Superscripts_and_Subscripts
In_Currency_Symbols
In_Combining_Diacritical_Marks_for_Symbols
In_Letterlike_Symbols
In_Number_Forms
In_Arrows
In_Mathematical_Operators
In_Miscellaneous_Technical
In_Control_Pictures
In_Optical_Character_Recognition
In_Enclosed_Alphanumerics
In_Box_Drawing
In_Block_Elements
In_Geometric_Shapes
In_Miscellaneous_Symbols
In_Dingbats
In_Miscellaneous_Mathematical_Symbols_A
In_Supplemental_Arrows_A
In_Braille_Patterns
In_Supplemental_Arrows_B
In_Miscellaneous_Mathematical_Symbols_B
In_Supplemental_Mathematical_Operators
In_Miscellaneous_Symbols_and_Arrows
In_Glagolitic
In_Latin_Extended_C
In_Coptic
In_Georgian_Supplement
In_Tifinagh
In_Ethiopic_Extended
In_Cyrillic_Extended_A
In_Supplemental_Punctuation
In_CJK_Radicals_Supplement
In_Kangxi_Radicals
In_Ideographic_Description_Characters
In_CJK_Symbols_and_Punctuation
In_Hiragana
In_Katakana
In_Bopomofo
In_Hangul_Compatibility_Jamo
In_Kanbun
In_Bopomofo_Extended
In_CJK_Strokes
In_Katakana_Phonetic_Extensions
In_Enclosed_CJK_Letters_and_Months
In_CJK_Compatibility
In_CJK_Unified_Ideographs_Extension_A
In_Yijing_Hexagram_Symbols
In_CJK_Unified_Ideographs
In_Yi_Syllables
In_Yi_Radicals
In_Lisu
In_Vai
In_Cyrillic_Extended_B
In_Bamum
In_Modifier_Tone_Letters
In_Latin_Extended_D
In_Syloti_Nagri
In_Common_Indic_Number_Forms
In_Phags_pa
In_Saurashtra
In_Devanagari_Extended
In_Kayah_Li
In_Rejang
In_Hangul_Jamo_Extended_A
In_Javanese
In_Myanmar_Extended_B
In_Cham
In_Myanmar_Extended_A
In_Tai_Viet
In_Meetei_Mayek_Extensions
In_Ethiopic_Extended_A
In_Latin_Extended_E
In_Cherokee_Supplement
In_Meetei_Mayek
In_Hangul_Syllables
In_Hangul_Jamo_Extended_B
In_High_Surrogates
In_High_Private_Use_Surrogates
In_Low_Surrogates
In_Private_Use_Area
In_CJK_Compatibility_Ideographs
In_Alphabetic_Presentation_Forms
In_Arabic_Presentation_Forms_A
In_Variation_Selectors
In_Vertical_Forms
In_Combining_Half_Marks
In_CJK_Compatibility_Forms
In_Small_Form_Variants
In_Arabic_Presentation_Forms_B
In_Halfwidth_and_Fullwidth_Forms
In_Specials
In_Linear_B_Syllabary
In_Linear_B_Ideograms
In_Aegean_Numbers
In_Ancient_Greek_Numbers
In_Ancient_Symbols
In_Phaistos_Disc
In_Lycian
In_Carian
In_Coptic_Epact_Numbers
In_Old_Italic
In_Gothic
In_Old_Permic
In_Ugaritic
In_Old_Persian
In_Deseret
In_Shavian
In_Osmanya
In_Osage
In_Elbasan
In_Caucasian_Albanian
In_Vithkuqi
In_Todhri
In_Linear_A
In_Latin_Extended_F
In_Cypriot_Syllabary
In_Imperial_Aramaic
In_Palmyrene
In_Nabataean
In_Hatran
In_Phoenician
In_Lydian
In_Meroitic_Hieroglyphs
In_Meroitic_Cursive
In_Kharoshthi
In_Old_South_Arabian
In_Old_North_Arabian
In_Manichaean
In_Avestan
In_Inscriptional_Parthian
In_Inscriptional_Pahlavi
In_Psalter_Pahlavi
In_Old_Turkic
In_Old_Hungarian
In_Hanifi_Rohingya
In_Garay
In_Rumi_Numeral_Symbols
In_Yezidi
In_Arabic_Extended_C
In_Old_Sogdian
In_Sogdian
In_Old_Uyghur
In_Chorasmian
In_Elymaic
In_Brahmi
In_Kaithi
In_Sora_Sompeng
In_Chakma
In_Mahajani
In_Sharada
In_Sinhala_Archaic_Numbers
In_Khojki
In_Multani
In_Khudawadi
In_Grantha
In_Tulu_Tigalari
In_Newa
In_Tirhuta
In_Siddham
In_Modi
In_Mongolian_Supplement
In_Takri
In_Myanmar_Extended_C
In_Ahom
In_Dogra
In_Warang_Citi
In_Dives_Akuru
In_Nandinagari
In_Zanabazar_Square
In_Soyombo
In_Unified_Canadian_Aboriginal_Syllabics_Extended_A
In_Pau_Cin_Hau
In_Devanagari_Extended_A
In_Sunuwar
In_Bhaiksuki
In_Marchen
In_Masaram_Gondi
In_Gunjala_Gondi
In_Makasar
In_Kawi
In_Lisu_Supplement
In_Tamil_Supplement
In_Cuneiform
In_Cuneiform_Numbers_and_Punctuation
In_Early_Dynastic_Cuneiform
In_Cypro_Minoan
In_Egyptian_Hieroglyphs
In_Egyptian_Hieroglyph_Format_Controls
In_Egyptian_Hieroglyphs_Extended_A
In_Anatolian_Hieroglyphs
In_Gurung_Khema
In_Bamum_Supplement
In_Mro
In_Tangsa
In_Bassa_Vah
In_Pahawh_Hmong
In_Kirat_Rai
In_Medefaidrin
In_Miao
In_Ideographic_Symbols_and_Punctuation
In_Tangut
In_Tangut_Components
In_Khitan_Small_Script
In_Tangut_Supplement
In_Kana_Extended_B
In_Kana_Supplement
In_Kana_Extended_A
In_Small_Kana_Extension
In_Nushu
In_Duployan
In_Shorthand_Format_Controls
In_Symbols_for_Legacy_Computing_Supplement
In_Znamenny_Musical_Notation
In_Byzantine_Musical_Symbols
In_Musical_Symbols
In_Ancient_Greek_Musical_Notation
In_Kaktovik_Numerals
In_Mayan_Numerals
In_Tai_Xuan_Jing_Symbols
In_Counting_Rod_Numerals
In_Mathematical_Alphanumeric_Symbols
In_Sutton_SignWriting
In_Latin_Extended_G
In_Glagolitic_Supplement
In_Cyrillic_Extended_D
In_Nyiakeng_Puachue_Hmong
In_Toto
In_Wancho
In_Nag_Mundari
In_Ol_Onal
In_Ethiopic_Extended_B
In_Mende_Kikakui
In_Adlam
In_Indic_Siyaq_Numbers
In_Ottoman_Siyaq_Numbers
In_Arabic_Mathematical_Alphabetic_Symbols
In_Mahjong_Tiles
In_Domino_Tiles
In_Playing_Cards
In_Enclosed_Alphanumeric_Supplement
In_Enclosed_Ideographic_Supplement
In_Miscellaneous_Symbols_and_Pictographs
In_Emoticons
In_Ornamental_Dingbats
In_Transport_and_Map_Symbols
In_Alchemical_Symbols
In_Geometric_Shapes_Extended
In_Supplemental_Arrows_C
In_Supplemental_Symbols_and_Pictographs
In_Chess_Symbols
In_Symbols_and_Pictographs_Extended_A
In_Symbols_for_Legacy_Computing
In_CJK_Unified_Ideographs_Extension_B
In_CJK_Unified_Ideographs_Extension_C
In_CJK_Unified_Ideographs_Extension_D
In_CJK_Unified_Ideographs_Extension_E
In_CJK_Unified_Ideographs_Extension_F
In_CJK_Unified_Ideographs_Extension_I
In_CJK_Compatibility_Ideographs_Supplement
In_CJK_Unified_Ideographs_Extension_G
In_CJK_Unified_Ideographs_Extension_H
In_Tags
In_Variation_Selectors_Supplement
In_Supplementary_Private_Use_Area_A
In_Supplementary_Private_Use_Area_B
In_No_Block`.split(/\s/).map(e=>[J(e),e]));function Ee(e,r={}){if({}.toString.call(r)!=="[object Object]")throw new Error("Unexpected options");return E(e,{flags:r.flags??"",rules:{captureGroup:r.rules?.captureGroup??!1,singleline:r.rules?.singleline??!1},unicodePropertyMap:P})}function q(e,r,t=null){function n(o,a){for(let s=0;s<o.length;s++){let l=i(o[s],a,s,o);s=Math.max(-1,s+l)}}function i(o,a=null,s=null,l=null){let c=0,d=!1,f={node:o,parent:a,key:s,container:l,root:e,remove(){Z(l).splice(Math.max(0,O(s)+c),1),c--,d=!0},removeAllNextSiblings(){return Z(l).splice(O(s)+1)},removeAllPrevSiblings(){let m=O(s)+c;return c-=m,Z(l).splice(0,Math.max(0,m))},replaceWith(m,L={}){let re=!!L.traverse;l?l[Math.max(0,O(s)+c)]=m:b(a,"Can't replace root node")[s]=m,re&&i(m,a,s,l),d=!0},replaceWithMultiple(m,L={}){let re=!!L.traverse;if(Z(l).splice(Math.max(0,O(s)+c),1,...m),c+=m.length-1,re){let le=0;for(let V=0;V<m.length;V++)le+=i(m[V],a,O(s)+V+le,l)}d=!0},skip(){d=!0}},{type:p}=o,_=r["*"],h=r[p],g=typeof _=="function"?_:_?.enter,B=typeof h=="function"?h:h?.enter;if(g?.(f,t),B?.(f,t),!d)switch(p){case"AbsenceFunction":case"CapturingGroup":case"Group":n(o.body,o);break;case"Alternative":case"CharacterClass":n(o.body,o);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":i(o.min,o,"min"),i(o.max,o,"max");break;case"LookaroundAssertion":n(o.body,o);break;case"Quantifier":i(o.body,o,"body");break;case"Regex":n(o.body,o),i(o.flags,o,"flags");break;default:throw new Error(`Unexpected node type "${p}"`)}return h?.exit?.(f,t),_?.exit?.(f,t),c}return i(e),e}function Z(e){if(!Array.isArray(e))throw new Error("Container expected");return e}function O(e){if(typeof e!="number")throw new Error("Numeric key expected");return e}var Oe={"*"({node:e}){if(!k(e))return;let r=[],t=[];for(let n of e.body){let i=n.body[0];n.body.length===1&&(i.type==="Character"||i.type==="CharacterClass"||i.type==="CharacterSet"&&at.has(i.kind))?t.push(i):(t.length&&(r.push(Pe(t)),t=[]),r.push(n))}t.length&&r.push(Pe(t)),e.body=r}};function Pe(e){let r=C(),t=e.length>1?$({body:e}):e[0];return t&&r.body.push(t),r}var at=new Set(["digit","hex","posix","property","space","word"]);var Me={CapturingGroup({node:e,parent:r,replaceWithMultiple:t}){if(r.type==="Quantifier"||e.body.length>1||e.isSubroutined)return;let n=e.body[0],i=n.body,o=i[0],a=i.length>1?i.at(-1):null,s=o&&o.type==="Assertion",l=a&&a.type==="Assertion",c=s?1:0,d=i.length-(l?1:0);if(s||l){n.body=i.slice(c,d);let f=[];s&&f.push(o),f.push(e),l&&f.push(a),t(f,{traverse:!0})}}};var Ge={"*"({node:e}){if(!k(e)||e.body.length<2)return;let r=[],t=!1,n=0;for(;!t;){r.push(e.body[0].body[n]);for(let a of e.body){let s=a.body[n];if(!s||!M(s.type)||!G(s,r[n])){t=!0;break}}n++}if(r.pop(),!r.length)return;for(let a of e.body)a.body=a.body.slice(r.length);let i=C({body:r}),o=A({body:e.body});o.body.every(a=>!a.body.length)||i.body.push(o),e.body=[i]}};function M(e){return e==="Assertion"||e==="Character"||e==="CharacterSet"}function G(e,r){if(e.type!==r.type)return!1;if(e.type==="Assertion"||e.type==="CharacterSet")return e.kind===r.kind&&e.negate===r.negate;if(e.type==="Character")return e.value===r.value;throw new Error(`Unexpected node type "${e.type}"`)}var Le={"*"({node:e}){if(!k(e))return;let r=2,t=e.body.length;if(t<r*2||t%r)return;let n=[...e.body.slice(0,r).map(_=>_.body)],i=Array.from({length:r},()=>[]),o=Array(r).fill(!1),a=Math.max(...n.map(_=>_.length));for(let _=0;_<a;_++)for(let h=0;h<r;h++)if(!o[h]){let g=n[h][_];!g||!M(g.type)||!ot(g,e.body,h,_,r)?o[h]=!0:i[h].push(g)}if(!i.some(_=>_.length))return;let s=[],l=0;for(let _=0;_<t;_++)s.push(C({body:e.body[_].body.slice(i[l].length)})),l=l<r-1?l+1:0;for(let _=0;_<t/r;_++){let h=s.slice(_*r,_*r+r);for(let g=1;g<h.length;g++){let B=h[g].body;if(B.length!==h[0].body.length||!B.every((m,L)=>M(m.type)&&G(m,h[0].body[L])))return}}let c=[];for(let _=0;_<r;_++)c.push(C({body:i[_]}));let d=A({body:c}),f=C({body:[d]}),p=A({body:s.filter((_,h)=>h%r)});p.body.every(_=>!_.body.length)?e.body=d.body:(f.body.push(p),e.body=[f])}};function ot(e,r,t,n,i){for(let o=t;o<r.length;o+=i){let s=r[o].body[n];if(!s||!G(s,e))return!1}return!0}var Fe={"*"({node:e}){if(!k(e)||e.body.length<2)return;let r=e.body[0].body,t=[],n=!1,i=0;for(;!n;){let s=r.length-1-i;t.push(r[s]);for(let l of e.body){let c=l.body.length-1-i,d=l.body[c];if(!d||!M(d.type)||!G(d,t[i])){n=!0;break}}i++}if(t.pop(),!t.length||t.length===1&&t[0].type!=="Assertion"&&e.body.length<4&&e.body.every(s=>s.body.length>2))return;t.reverse();for(let s of e.body)s.body=s.body.slice(0,-t.length);let o=C(),a=A({body:e.body});a.body.every(s=>!s.body.length)||o.body.push(a),o.body.push(...t),e.body=[o]}};var $e={CharacterClass({node:e}){if(e.kind!=="union"||!e.body.length)return;let r=[];for(let a of e.body)a.type==="CharacterSet"&&r.some(s=>s.type===a.type&&s.kind===a.kind&&s.negate===a.negate&&s.value===a.value)||r.push(a);e.body=r;let t=[],n=[];for(let a of e.body)a.type==="Character"||a.type==="CharacterClassRange"?n.push(a):t.push(a);if(!n.length)return;n.sort((a,s)=>{let l=a.type==="Character"?a.value:a.min.value,c=s.type==="Character"?s.value:s.min.value;return l-c});let i=[n[0]];for(let a=1;a<n.length;a++){let s=n[a],l=i.at(-1),c=s.type==="Character"?s.value:s.min.value,d=l.type==="Character"?l.value:l.max.value;if(c<=d+1)if(l.type==="Character"&&s.type==="Character")l.value!==s.value&&(i[i.length-1]=W(l,s));else if(l.type==="Character"&&s.type==="CharacterClassRange")i[i.length-1]=W(Q(l.value),s.max);else if(l.type==="CharacterClassRange"&&s.type==="Character")l.max.value=Math.max(s.value,l.max.value);else if(l.type==="CharacterClassRange"&&s.type==="CharacterClassRange")l.max.value=Math.max(s.max.value,l.max.value);else throw new Error("Unexpected merge case");else i.push(s)}let o=i.flatMap(a=>{if(a.type==="CharacterClassRange"){let s=a.max.value-a.min.value;return s>1?a:s?[a.min,a.max]:a.min}return a});e.body=[...o.filter(a=>Ue(a)),...o.filter(a=>!Ue(a)),...t]}};function Ue(e){return e.type==="Character"&&(e.value===45||e.value===93)}var De={Quantifier({node:e}){let{body:r,max:t}=e;if(t!==1/0||r.type!=="Group"||r.atomic)return;let n=r.body[0];if(!T(n,{type:"Quantifier"}))return;let i=n.body[0];i.kind==="possessive"||i.min>1||i.max<2||(i.min?i.min===1&&(n.body[0]=i.body):i.max=1)}};var Ke={AbsenceFunction({node:e,remove:r}){Y(e)&&r()},Group({node:e,remove:r}){Y(e)&&r()},LookaroundAssertion({node:e,remove:r}){Y(e)&&r()},Quantifier({node:e,remove:r}){let t=e.body;for(;t.type==="Quantifier";)t=t.body;Y(t)&&r()}};function ie(e){return e.body.every(r=>!r.body.length)}function Y(e){switch(e.type){case"AbsenceFunction":return e.kind==="repeater"&&ie(e);case"Group":return ie(e);case"LookaroundAssertion":return!e.negate&&ie(e);default:return!1}}var Ve={Flags({node:e}){e.extended=!1},Directive({node:e,remove:r}){e.kind==="flags"&&(Be(e),Re(e)&&r())},Group({node:e}){e.flags&&(Be(e),Re(e))}};function Re(e){let{flags:r}=e;return r&&!r.enable&&!r.disable?(delete e.flags,!0):!1}function Be({flags:e}){if(!e)throw new Error("Expected flags");e.enable&&delete e.enable.extended,e.disable&&delete e.disable.extended,it(e)}function it(e){e.enable&&!Object.keys(e.enable).length&&delete e.enable,e.disable&&!Object.keys(e.disable).length&&delete e.disable}var je={NamedCallout({node:e,replaceWith:r}){let{arguments:t,kind:n}=e;if(n==="fail"){r(oe({negate:!0}));return}if(!t)return;let i=t.filter(o=>o!=="").map(o=>typeof o=="string"&&/^[+-]?\d+$/.test(o)?+o:o);e.arguments=i.length?i:null}};var He={CharacterClass({node:e,parent:r,replaceWith:t,replaceWithMultiple:n}){let{body:i,kind:o,negate:a}=e;if(r.type!=="CharacterClass"||o!=="union"||!i.length)return;let s=i[0];if(T(r,{type:"CharacterClass",kind:"union"})){r.negate=r.negate!==a,n(i,{traverse:!0});return}a||(r.kind==="union"?n(i,{traverse:!0}):T(e)&&t(s,{traverse:!0}))}};var ze={CharacterClass({node:e,parent:r,replaceWith:t}){let{body:n,kind:i,negate:o}=e;if(!o||i!=="union"||n.length!==1)return;let a=n[0];if(a.type==="CharacterSet")a.negate=!a.negate,t(a);else if(r.type!=="CharacterClass"&&a.type==="Character"&&a.value===10){if(r.type==="Quantifier"&&r.kind!=="lazy")return;t(I("newline",{negate:!0}))}}};var Qe={CharacterClass({node:e,parent:r,replaceWith:t}){let{body:n,kind:i,negate:o}=e,a=n[0];r.type==="CharacterClass"||o||i!=="union"||n.length!==1||a.type!=="Character"&&a.type!=="CharacterSet"||t(a,{traverse:!0})}};var Xe={"*"({node:e}){k(e)&&st(e)&&(e.body=e.body[0].body[0].body)},Group({node:e,parent:r,replaceWithMultiple:t}){let{atomic:n,body:i,flags:o}=e,a=i[0].body;if(i.length>1||r.type==="Quantifier")return;let s=!1;n?a.every(({type:l})=>We.has(l))&&(s=!0):o||(s=!0),s&&t(a,{traverse:!0})},Quantifier({node:e}){if(e.body.type!=="Group")return;let r=e.body;if(r.body.length>1)return;let t=r.body[0].body;if(t.length!==1)return;let n=t[0];!z(n)||r.atomic&&!We.has(n.type)||r.flags||(e.body=n)}},We=new Set(["Assertion","Backreference","Character","CharacterClass","CharacterSet","Directive","NamedCallout"]);function st({body:e}){let r=e[0].body;return e.length===1&&r.length===1&&r[0].type==="Group"&&!r[0].atomic&&!r[0].flags&&r[0].body.length>1}var Je={CharacterSet({node:e,parent:r,root:t,replaceWith:n}){let{kind:i,negate:o,value:a}=e,s=null;i==="property"&&(a==="Decimal_Number"||a==="Nd")&&!t.flags.digitIsAscii&&!t.flags.posixIsAscii||i==="posix"&&a==="digit"?s=I("digit",{negate:o}):i==="property"&&(a==="ASCII_Hex_Digit"||a==="AHex")||i==="posix"&&a==="xdigit"?s=I("hex",{negate:o}):i==="property"&&(a==="White_Space"||a==="WSpace")&&!t.flags.spaceIsAscii&&!t.flags.posixIsAscii||i==="posix"&&a==="space"?s=I("space",{negate:o}):r.type!=="CharacterClass"&&i==="property"&&!o&&a==="Any"&&(s=I("any")),s&&n(s)},CharacterClass({node:e,root:r}){if(e.kind!=="union")return;let t={rangeDigit0To9:!1,rangeAToFLower:!1,rangeAToFUpper:!1,unicodeL:!1,unicodeM:!1,unicodeN:!1,unicodePc:!1};for(let n of e.body)n.type==="CharacterClassRange"?(t.rangeDigit0To9||=x(n,N.n0,N.n9),t.rangeAToFLower||=x(n,N.a,N.f),t.rangeAToFUpper||=x(n,N.A,N.F)):n.type==="CharacterSet"&&(t.unicodeL||=K(n,"L"),t.unicodeM||=K(n,"M"),t.unicodeN||=K(n,"N"),t.unicodePc||=K(n,"Pc",{includeSupercategories:!0}));t.rangeDigit0To9&&t.rangeAToFUpper&&t.rangeAToFLower&&(e.body=e.body.filter(n=>!(x(n,N.n0,N.n9)||x(n,N.a,N.f)||x(n,N.A,N.F))),e.body.push(I("hex"))),t.unicodeL&&t.unicodeM&&t.unicodeN&&t.unicodePc&&!r.flags.wordIsAscii&&!r.flags.posixIsAscii&&(e.body=e.body.filter(n=>!K(n,["L","M","N","Pc"],{includeSubcategories:!0})),e.body.push(I("word")))}},N={n0:y("0"),n9:y("9"),A:y("A"),F:y("F"),a:y("a"),f:y("f")};function x(e,r,t){return e.type==="CharacterClassRange"&&e.min.value===r&&e.max.value===t}function K(e,r,t={}){if(e.type!=="CharacterSet"||e.kind!=="property"||e.negate)return!1;let n=Array.isArray(r)?r:[r],i=[];for(let o of n){i.push(o);let a=R[o]?.full,s=Ze[o],l=R[o]?.sub;a&&i.push(a),t.includeSupercategories&&s&&(i.push(s),i.push(R[s].full)),t.includeSubcategories&&l&&i.push(...l)}return i.includes(e.value)}var lt=["Ll","Lm","Lo","Lt","Lu"],ut=["Mc","Me","Mn"],pt=["Nd","Nl","No"],ct=["Pc","Pd","Pe","Pf","Pi","Po","Ps"],R={L:{full:"Letter",sub:lt},M:{full:"Mark",sub:ut},N:{full:"Number",sub:pt},P:{full:"Punctuation",sub:ct}},Ze={};for(let e of Object.keys(R))for(let r of R[e].sub)Ze[r]=e;var qe={CharacterSet({node:e}){if(e.kind!=="property")return;let r=dt.get(e.value);r&&(e.value=r)}},dt=new Map([["Other","C"],["Control","Cc"],["Format","Cf"],["Unassigned","Cn"],["Private_Use","Co"],["Surrogate","Cs"],["Letter","L"],["Cased_Letter","LC"],["Lowercase_Letter","Ll"],["Modifier_Letter","Lm"],["Other_Letter","Lo"],["Titlecase_Letter","Lt"],["Uppercase_Letter","Lu"],["Mark","M"],["Combining_Mark","M"],["Spacing_Mark","Mc"],["Enclosing_Mark","Me"],["Nonspacing_Mark","Mn"],["Number","N"],["Decimal_Number","Nd"],["Letter_Number","Nl"],["Other_Number","No"],["Punctuation","P"],["punct","P"],["Connector_Punctuation","Pc"],["Dash_Punctuation","Pd"],["Close_Punctuation","Pe"],["Final_Punctuation","Pf"],["Initial_Punctuation","Pi"],["Other_Punctuation","Po"],["Open_Punctuation","Ps"],["Symbol","S"],["Currency_Symbol","Sc"],["Modifier_Symbol","Sk"],["Math_Symbol","Sm"],["Other_Symbol","So"],["Separator","Z"],["Line_Separator","Zl"],["Paragraph_Separator","Zp"],["Space_Separator","Zs"],["ASCII_Hex_Digit","AHex"],["Bidi_Control","Bidi_C"],["Case_Ignorable","CI"],["Changes_When_Casefolded","CWCF"],["Changes_When_Casemapped","CWCM"],["Changes_When_Lowercased","CWL"],["Changes_When_Titlecased","CWT"],["Changes_When_Uppercased","CWU"],["Default_Ignorable_Code_Point","DI"],["Deprecated","Dep"],["Diacritic","Dia"],["Emoji_Component","EComp"],["Emoji_Modifier","EMod"],["Emoji_Modifier_Base","EBase"],["Emoji_Presentation","EPres"],["Extended_Pictographic","ExtPict"],["Extender","Ext"],["Grapheme_Base","Gr_Base"],["Grapheme_Extend","Gr_Ext"],["Grapheme_Link","Gr_Link"],["Hex_Digit","Hex"],["IDS_Binary_Operator","IDSB"],["IDS_Trinary_Operator","IDST"],["IDS_Unary_Operator","IDSU"],["ID_Continue","IDC"],["ID_Start","IDS"],["Ideographic","Ideo"],["Join_Control","Join_C"],["Logical_Order_Exception","LOE"],["Noncharacter_Code_Point","NChar"],["Other_Alphabetic","OAlpha"],["Other_Default_Ignorable_Code_Point","ODI"],["Other_Grapheme_Extend","OGr_Ext"],["Other_ID_Continue","OIDC"],["Other_ID_Start","OIDS"],["Other_Lowercase","OLower"],["Other_Math","OMath"],["Other_Uppercase","OUpper"],["Pattern_Syntax","Pat_Syn"],["Pattern_White_Space","Pat_WS"],["Prepended_Concatenation_Mark","PCM"],["Quotation_Mark","QMark"],["Regional_Indicator","RI"],["Sentence_Terminal","STerm"],["Soft_Dotted","SD"],["Terminal_Punctuation","Term"],["Unified_Ideograph","UIdeo"],["Variation_Selector","VS"],["White_Space","WSpace"],["XID_Continue","XIDC"],["XID_Start","XIDS"]]);var Ye={CharacterSet({node:e,root:r,replaceWith:t}){let{kind:n,negate:i,value:o}=e,a=null;n==="posix"&&o==="cntrl"&&!r.flags.posixIsAscii&&(a=X("Cc",{negate:i})),a&&t(a)},CharacterClassRange({node:e,replaceWith:r}){x(e,0,1114111)&&r(X("Any"))}};var ee=new Map([["alternationToClass",Oe],["exposeAnchors",Me],["extractPrefix",Ge],["extractPrefix2",Le],["extractSuffix",Fe],["preventReDoS",De],["removeEmptyGroups",Ke],["removeUselessFlags",Ve],["simplifyCallouts",je],["unnestUselessClasses",He],["unwrapNegationWrappers",ze],["unwrapUselessClasses",Qe],["unwrapUselessGroups",Xe],["useShorthands",Je],["useUnicodeAliases",qe],["useUnicodeProps",Ye],["mergeRanges",$e]]);function er(e,r){let t=ht(r),n=E(e,{flags:t.flags,rules:{captureGroup:t.rules.captureGroup,singleline:t.rules.singleline},skipBackrefValidation:t.rules.allowOrphanBackrefs,unicodePropertyMap:P}),i=Object.assign(se(),t.override);for(let l of ee.keys())i[l]||delete i[l];let o=Object.keys(i),a={pattern:e,flags:t.flags},s=0;do{if(++s>200)throw new Error("Optimization exceeded maximum iterations; possible infinite loop");e=a.pattern;for(let l of o)q(n,ee.get(l));a=j(n)}while(e!==a.pattern);return a}function ht(e={}){return{flags:"",override:{},...e,rules:{allowOrphanBackrefs:!1,captureGroup:!1,singleline:!1,...e.rules}}}function se(e={}){let r={};for(let t of ee.keys())r[t]=!e.disable;return r}return ir(_t);})();
//# sourceMappingURL=oniguruma-parser.min.js.map
