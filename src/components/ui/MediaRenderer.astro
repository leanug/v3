---
import { Image } from 'astro:assets';
const { slug, img, video, title, more } = Astro.props;
const src = more ? `/media/work/${slug}/${video || img}` : (video || img);
---

{video ? (
  <video
    class="w-full h-full object-cover rounded-lg"
    width="1600" height="1200"
    autoplay muted loop playsinline
  >
    <source src={src} type="video/webm" />
  </video>
) : (
  <Image
    transition:name={`img-${slug}`}
    src={`/media/work/${slug}/${img}`}
    alt={`Cover of ${title}`} 
    class="w-full h-full object-cover rounded-lg aspect-4/3"
    width="1600" height="1200"
    decoding="async" loading="lazy"
  />
)}